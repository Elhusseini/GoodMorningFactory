<!-- UI/Views/SalesInvoiceTemplate.xaml -->
<!-- *** تحديث: تم استبدال ربط البيانات بأسماء للعناصر ليتم ملؤها برمجياً *** -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <FlowDocument x:Key="SalesInvoice" PagePadding="50" ColumnWidth="800" FlowDirection="RightToLeft" FontFamily="Calibri" FontSize="12">

        <!-- ترويسة الفاتورة -->
        <Table>
            <Table.Columns>
                <TableColumn Width="*"/>
                <TableColumn Width="Auto"/>
            </Table.Columns>
            <TableRowGroup>
                <TableRow>
                    <TableCell>
                        <BlockUIContainer>
                            <StackPanel>
                                <TextBlock x:Name="CompanyNameTextBlock" FontSize="24" FontWeight="Bold" Foreground="SteelBlue"/>
                                <TextBlock x:Name="CompanyAddressTextBlock"/>
                                <TextBlock x:Name="CompanyPhoneTextBlock"/>
                            </StackPanel>
                        </BlockUIContainer>
                    </TableCell>
                    <TableCell>
                        <BlockUIContainer>
                            <Image x:Name="CompanyLogoImage" Height="80" HorizontalAlignment="Left"/>
                        </BlockUIContainer>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>

        <Paragraph TextAlignment="Center" Margin="0,20,0,0">
            <Run Text="فاتورة مبيعات" FontSize="20" FontWeight="Bold"/>
        </Paragraph>

        <!-- معلومات الفاتورة -->
        <Table Margin="0,20,0,10">
            <Table.Columns>
                <TableColumn Width="*"/>
                <TableColumn Width="*"/>
            </Table.Columns>
            <TableRowGroup>
                <TableRow>
                    <TableCell>
                        <Paragraph>
                            <Run Text="رقم الفاتورة: "/>
                            <Run x:Name="InvoiceNumberRun" FontWeight="Bold"/>
                        </Paragraph>
                    </TableCell>
                    <TableCell>
                        <Paragraph>
                            <Run Text="تاريخ الفاتورة: "/>
                            <Run x:Name="SaleDateRun" FontWeight="Bold"/>
                        </Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>

        <!-- جدول بنود الفاتورة -->
        <Table CellSpacing="0" BorderBrush="Black" BorderThickness="1">
            <Table.Columns>
                <TableColumn Width="4*"/>
                <TableColumn Width="1.5*"/>
                <TableColumn Width="1.5*"/>
                <TableColumn Width="2*"/>
            </Table.Columns>
            <TableRowGroup x:Name="ItemsTableRowGroup">
                <TableRow Background="LightGray" FontWeight="Bold">
                    <TableCell BorderBrush="Black" BorderThickness="0,0,1,1" Padding="5">
                        <Paragraph>المنتج</Paragraph>
                    </TableCell>
                    <TableCell BorderBrush="Black" BorderThickness="0,0,1,1" Padding="5">
                        <Paragraph>سعر الوحدة</Paragraph>
                    </TableCell>
                    <TableCell BorderBrush="Black" BorderThickness="0,0,1,1" Padding="5">
                        <Paragraph>الكمية</Paragraph>
                    </TableCell>
                    <TableCell BorderBrush="Black" BorderThickness="0,0,0,1" Padding="5">
                        <Paragraph>الإجمالي الفرعي</Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>

        <!-- الإجماليات -->
        <Table Margin="0,20,0,0">
            <Table.Columns>
                <TableColumn Width="*"/>
                <TableColumn Width="Auto"/>
            </Table.Columns>
            <TableRowGroup>
                <TableRow>
                    <TableCell/>
                    <TableCell>
                        <Paragraph FontWeight="Bold">
                            <Run Text="الإجمالي: "/>
                            <Run x:Name="TotalAmountRun"/>
                        </Paragraph>
                    </TableCell>
                </TableRow>
                <TableRow>
                    <TableCell/>
                    <TableCell>
                        <Paragraph>
                            <Run Text="المدفوع: "/>
                            <Run x:Name="AmountPaidRun"/>
                        </Paragraph>
                    </TableCell>
                </TableRow>
                <TableRow>
                    <TableCell/>
                    <TableCell>
                        <Paragraph>
                            <Run Text="المتبقي: "/>
                            <Run x:Name="AmountDueRun"/>
                        </Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>

    </FlowDocument>
</ResourceDictionary>
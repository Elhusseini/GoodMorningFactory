<!-- UI/Views/AdjustStockWindow.xaml -->
<!-- *** ملف جديد: نافذة تسجيل تعديلات الجرد والمخزون *** -->
<Window x:Class="GoodMorningFactory.UI.Views.AdjustStockWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        mc:Ignorable="d" Title="تعديل كميات المخزون" Height="600" Width="800"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        WindowStartupLocation="CenterOwner" FlowDirection="RightToLeft">
	<Grid Margin="15">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<GroupBox Header="معلومات التعديل" Grid.Row="0">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition/>
					<RowDefinition/>
				</Grid.RowDefinitions>

				<Label Grid.Row="0" Grid.Column="0" Content="تاريخ التعديل:"/>
				<DatePicker x:Name="AdjustmentDatePicker" Grid.Row="0" Grid.Column="1" Margin="5"/>

				<Label Grid.Row="1" Grid.Column="0" Content="سبب التعديل:"/>
				<TextBox x:Name="ReasonTextBox" Grid.Row="1" Grid.Column="1" Margin="5"/>
			</Grid>
		</GroupBox>

		<GroupBox Header="البنود" Grid.Row="1" Margin="0,10,0,0">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<StackPanel Orientation="Horizontal" Margin="5">
					<TextBlock Text="بحث عن منتج:" VerticalAlignment="Center"/>
					<TextBox x:Name="SearchProductTextBox" Width="250" Margin="5,0" KeyUp="SearchProductTextBox_KeyUp"/>
				</StackPanel>
				<DataGrid x:Name="ItemsDataGrid" Grid.Row="1" AutoGenerateColumns="False" CanUserAddRows="False">
					<DataGrid.Columns>
						<DataGridTextColumn Header="المنتج" Binding="{Binding ProductName}" IsReadOnly="True" Width="2*"/>
						<DataGridTextColumn Header="الكمية بالنظام" Binding="{Binding SystemQuantity}" IsReadOnly="True" Width="*"/>
						<DataGridTextColumn Header="الكمية الفعلية" Binding="{Binding ActualQuantity}" Width="*"/>
						<DataGridTextColumn Header="الفرق" Binding="{Binding Difference}" IsReadOnly="True" Width="*" FontWeight="Bold"/>
					</DataGrid.Columns>
				</DataGrid>
			</Grid>
		</GroupBox>

		<Button Content="💾 ترحيل التعديل" Grid.Row="2" HorizontalAlignment="Left" Padding="15,5" Margin="5" Click="PostAdjustmentButton_Click"/>
	</Grid>
</Window>